@model QuanLyLopHoc.Models.Entities.Reply

@{
    ViewData["Title"] = "Nộp bài tập";

}
<style>
    .scrollbar-w-2::-webkit-scrollbar {
        width: 0.5rem;
        height: 0.25rem;
    }

    .scrollbar-track-blue-lighter::-webkit-scrollbar-track {
        --bg-opacity: 1;
        background-color: #d8d8d8;
    }

    .scrollbar-thumb-blue::-webkit-scrollbar-thumb {
        --bg-opacity: 1;
        background-color: #5fafff;
    }

    .scrollbar-thumb-rounded::-webkit-scrollbar-thumb {
        border-radius: 0.25rem;
    }
</style>
<form id="post" class="w-full" asp-action="Reply" method="post" enctype="multipart/form-data">
    <div class="m-6 flex flex-col backdrop-blur-lg bg-slate-300/30">
        <div class="mx-3">
            <div class="col-12">
                <input asp-for="Id" class="hidden" />
                <span asp-validation-for="Id" class="mt-2 text-sm text-green-600 dark:text-red-500 font-medium"></span>
                <input asp-for="PostId" class="hidden" />
                <span asp-validation-for="PostId"
                      class="mt-2 text-sm text-green-600 dark:text-red-500 font-medium"></span>

                <div class="mb-6">
                    <label asp-for="Comment" class="block mb-2 text-sm font-medium text-drak-700">Lời nhắn</label>
                    <input type="text" disabled
                           class=" bg-green-50 border border-green-500 text-green-900 placeholder-gray-700 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-96 p-2.5"
                           asp-for="Comment" type="text" />
                </div>
                <input asp-for="StudentId" class="hidden" />
                <span asp-validation-for="StudentId"
                      class="mt-2 text-sm text-green-600 dark:text-red-500 font-medium"></span>
            </div>
            
            <div id="preview">
                @if (Model.Contents != null && Model.Contents.Count > 0)
                {
                    <div>
                        @if (Model.SubmitTime != null)
                        {
                            <p>Lần sửa đổi gần nhất lúc: @Model.SubmitTime.ToString("HH:mm:ss dd/MM/yyyy")</p>
                        }
                    </div>
                    <h3 class="font-medium">Bài tập của bạn:</h3>
                    <ol class="ml-6 mt-4 h-96 overflow-auto  scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch">
                        @foreach (var item in Model.Contents)
                        {
                            <li class="mb-2 flex flex-row">
                                <a href="@Url.Action("DownloadFile", "Home" , new{path=item.Content})">
                                    @item.Content.Split("\\").Last()
                                </a>
                            </li>
                        }
                    </ol>
                }
            </div>
            <div id="justupload">
            </div>
        </div>
    </div>
</form>

@section Scripts{
    <script>
        function inputChange() {
            console.log('change');
            var input = document.getElementById('files');
            var output = document.getElementById('justupload');
            var children = "";
            for (var i = 0; i < input.files.length; ++i) {
                children += '<li class="mb-2 flex flex-row">' + input.files.item(i).name + '</li>';
            }
            output.innerHTML = '<label class="text-base">Danh sách bài tập bạn vừa tải lên</label> <ol class="ml-6 mt-4 h-52 overflow-auto  scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch">' + children + '</ol>';
        };
    </script>
}
